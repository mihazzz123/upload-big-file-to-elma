# envcfg
`import "git.elewise.com/elma365/common/pkg/envcfg"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)
* [Examples](#pkg-examples)

## <a name="pkg-overview">Overview</a>



## <a name="pkg-index">Index</a>
* [func Default(v interface{}, overrides map[string]string) error](#Default)
* [func Read(v interface{}, opts ...Option) error](#Read)
* [func SplitWords(s string) []string](#SplitWords)
* [type Option](#Option)
  * [func WithDefault(overrides map[string]string) Option](#WithDefault)
  * [func WithPrefix(prefix string) Option](#WithPrefix)

#### <a name="pkg-examples">Examples</a>
* [Default](#example-default)
* [Read](#example-read)

#### <a name="pkg-files">Package files</a>
[envcfg.go](https://git.elewise.com/elma365/common/-/tree/develop/pkg/envcfg/envcfg.go)





## <a name="Default">func</a> [Default](https://git.elewise.com/elma365/common/-/tree/develop/pkg/envcfg/envcfg.go?s=1532:1594#L80)
``` go
func Default(v interface{}, overrides map[string]string) error
```
Default read and parse values from struct tag `default:"some value"`


##### Example Default:
``` go
type StdConfig struct {
    S   string `default:"foo"`
    R   string `default:"buz"`
}
type Config struct {
    StdConfig
    N   int  `default:"42"`
    B   bool `default:"true"`
}

cfg := Config{}

envcfg.Default(&cfg, map[string]string{
    "R": "baz",
})

fmt.Println(cfg)
```


## <a name="Read">func</a> [Read](https://git.elewise.com/elma365/common/-/tree/develop/pkg/envcfg/envcfg.go?s=873:919#L47)
``` go
func Read(v interface{}, opts ...Option) error
```
Read environment into struct


##### Example Read:
``` go
type StdConfig struct {
    Debug   bool
    Default string `default:"foo"`
    HostIP  string
}
cfg := struct {
    StdConfig
    Number  uint32
    VH      string `envcfg:"VH_NAME"`
    Exclude string `envcfg:"-"`
}{}

err := envcfg.Read(&cfg, envcfg.WithDefault(map[string]string{"Debug": "true"}), envcfg.WithPrefix("PREFIX42_"))
if err != nil {
    log.Fatal(err)
}

log.Print(cfg)
```


## <a name="SplitWords">func</a> [SplitWords](https://git.elewise.com/elma365/common/-/tree/develop/pkg/envcfg/envcfg.go?s=1967:2001#L98)
``` go
func SplitWords(s string) []string
```
SplitWords split string to words

JSON42_File42An42dSO42ME_More -> JSON42, File42, An42d, SO42ME, More




## <a name="Option">type</a> [Option](https://git.elewise.com/elma365/common/-/tree/develop/pkg/envcfg/envcfg.go?s=223:268#L17)
``` go
type Option interface {
    // contains filtered or unexported methods
}
```
Option to configure environment read







### <a name="WithDefault">func</a> [WithDefault](https://git.elewise.com/elma365/common/-/tree/develop/pkg/envcfg/envcfg.go?s=664:716#L37)
``` go
func WithDefault(overrides map[string]string) Option
```
WithDefault add read default values from tags before read environment


### <a name="WithPrefix">func</a> [WithPrefix](https://git.elewise.com/elma365/common/-/tree/develop/pkg/envcfg/envcfg.go?s=479:516#L30)
``` go
func WithPrefix(prefix string) Option
```
WithPrefix add prefix to read variable

If PREFIX_VARNAME is not setted, try to read VARNAME without prefix








- - -
Generated by [godoc2md](https://github.com/Exa-Networks/godoc2md)
